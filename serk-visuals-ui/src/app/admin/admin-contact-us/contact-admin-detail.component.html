<a routerLink="/admin/contact">← Back</a>

<div *ngIf="loading()">Loading…</div>
<div *ngIf="error()" class="error">{{ error() }}</div>

<form *ngIf="item() as c" (ngSubmit)="save()">
  <h2>Contact Message</h2>
  <div><small>Created: {{ c.createdAt | date:'short' }} | Updated: {{ c.updatedAt | date:'short' }}</small></div>

  <label>
    Full name
    <input [(ngModel)]="c.fullName" name="fullName" />
  </label>

  <label>
    Email
    <input [(ngModel)]="c.email" name="email" />
  </label>

  <label>
    Subject
    <input [(ngModel)]="c.subject" name="subject" />
  </label>

  <label>
    Message
    <textarea [(ngModel)]="c.message" name="message" rows="6"></textarea>
  </label>

  <label>
    Status
    <select [(ngModel)]="c.status" name="status">
      <option value="new">new</option>
      <option value="read">read</option>
      <option value="replied">replied</option>
    </select>
  </label>

  <label>
    Reply (optional)
    <textarea [(ngModel)]="c.reply" name="reply" rows="4" placeholder="Type your reply or notes"></textarea>
  </label>

  <div class="actions">
    <button type="submit">Save</button>
    <button type="button" (click)="delete()">Delete</button>
  </div>
</form>
